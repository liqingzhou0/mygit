#include<stdio.h>
#define SIZE 20 
void my_itoa(int num, char *str);

int main(void)
{
	int num ;
	char ch[SIZE] = { 0 };
	printf("Enter the number (q to quit):");
	while(scanf("%d",&num) == 1)
	{
		printf("   num = %i\n",num); 
		my_itoa(num,ch);
		printf("字符数组:%s\n",ch);
		while(getchar() != '\n')
			continue;
		printf("Enter the number (q to quit):");
	}
	return 0 ;
}


void my_itoa(int num, char *str)    //通过整数分解。 
{
	int mark = 1 ;                 //n位的最小正整数，例如百位： 100 千位：1000  个位：1
	int i = 0 ;
	int t;
	if(num < 0 )
	{
		num = -num ;
		str[i++] = '-';
	}
	t = num;
	//求Mark的值
	while(t > 9 )
	{
		mark *= 10 ;
		t /= 10 ;
	}
	//分解整数
	do
	{
		int d = num / mark ;    //d是每个位上的值
		str[i++] = d + '0' ;
		num %= mark ;
		mark /= 10 ;
	}while(mark > 0 && i < SIZE-1);
		
	str[i] = '\0' ;
}